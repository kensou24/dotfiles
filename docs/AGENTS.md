# AGENTS.md - Documentation Site

## Mission

Provide clear, accessible documentation for the dotfiles repository using Docusaurus. The docs site should be minimal, focused, and directly serve at the root path without a separate landing page.

## Configuration

### Core Files

- **`docusaurus.config.ts`**: Main Docusaurus configuration
  - Serves docs at root path (`routeBasePath: "/"`) 
  - GitHub Pages deployment to `wcygan.github.io/dotfiles/`
  - No blog, no separate homepage
  - Auto-generated sidebar from docs structure

- **`package.json`**: Dependencies and scripts
  - Core: `@docusaurus/core` and `@docusaurus/preset-classic`
  - Scripts: `start`, `build`, `deploy`, `serve`

- **`sidebars.ts`**: Auto-generated sidebar configuration
  - Uses `type: "autogenerated"` for dynamic sidebar
  - Generates from `docs/` directory structure

## Principles

- **Minimal surface area**: Single introduction page, no complex navigation
- **Docs-first**: No separate landing page, docs ARE the site
- **Auto-generation**: Sidebar automatically reflects docs structure
- **Fast deployment**: Simple `npm run deploy` to GitHub Pages

## Workflow

### Local Development

```bash
# Start dev server
npm run start

# Build production
npm run build

# Test production build
npm run serve
```

### Deployment

```bash
# Deploy to GitHub Pages
npm run deploy
```

### Adding Documentation

1. Add markdown files to `docs/docs/`
2. Use frontmatter for metadata:
   ```markdown
   ---
   sidebar_position: 1
   slug: /custom-url
   ---
   ```
3. Sidebar auto-updates on next build

## Structure

```
docs/
├── AGENTS.md          # This file
├── docusaurus.config.ts
├── sidebars.ts
├── package.json
├── docs/
│   └── intro.md       # Root page (slug: /)
├── src/
│   ├── css/          # Custom styles
│   └── components/   # React components
└── static/           # Static assets
```

## Key Decisions

- **No homepage**: Docs serve at root, no separate landing page
- **No blog**: Focus on documentation only
- **Auto sidebars**: Less maintenance, automatic organization
- **GitHub Pages**: Free, reliable hosting with custom domain support

## Common Tasks

### Update Site Title/Tagline

Edit in `docusaurus.config.ts`:
```typescript
title: "Dotfiles",
tagline: "Modern developer configuration files with safe installation",
```

### Change Color Scheme

Modify theme in `docusaurus.config.ts`:
```typescript
colorMode: {
  defaultMode: "light",
  disableSwitch: false,
  respectPrefersColorScheme: true,
}
```

### Add Code Highlighting Language

Add to `prism.additionalLanguages` in `docusaurus.config.ts`:
```typescript
additionalLanguages: [
  "bash",
  "typescript", 
  // Add new language here
]
```

## Troubleshooting

### Page Not Found After Deploy

- Ensure `src/pages/` directory is removed (conflicts with docs-only setup)
- Check `baseUrl` matches GitHub Pages path
- Verify `routeBasePath: "/"` in docs config

### Build Failures

```bash
# Clear cache and rebuild
npm run clear
npm run build
```

### Local Testing Before Deploy

```bash
# Build and serve locally
npm run build
npm run serve
# Visit http://localhost:3000/dotfiles/
```

## Quality Standards

- [ ] Builds without warnings
- [ ] All links valid (no broken links)
- [ ] Responsive on mobile
- [ ] Fast page loads
- [ ] Clear navigation